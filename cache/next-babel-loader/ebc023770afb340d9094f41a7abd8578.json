{"ast":null,"code":"import _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { Box, Avatar, Text, Divider, IconButton, Column, Button, Link, Heading, Mask, Image, TextField, Toast } from \"gestalt\";\nimport { TiHomeOutline, TiChartAreaOutline, TiCalendarOutline, TiTags, TiShoppingCart } from \"react-icons/ti\";\nimport Router from 'next/router';\nimport 'gestalt/dist/gestalt.css';\nimport './index.css';\n\nvar Login =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Login, _React$Component);\n\n  function Login(props) {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Login).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"login\", function () {\n      fetch('https://savacloud.herokuapp.com/login', {\n        method: \"POST\",\n        headers: {\n          'Accept': 'application/json, text/plain, */*',\n          'Content-Type': 'application/json'\n        },\n        body: _JSON$stringify({\n          username: _this.state.username,\n          password: _this.state.password\n        })\n      }).then(function (result) {\n        if (result.status === 200) return result.json();else throw Error(\"lỗi đăng nhập\");\n      }).then(function (result) {\n        _this.setState({\n          error: null\n        });\n\n        localStorage.setItem('token', result.token);\n        Router.push('/');\n      })[\"catch\"](function (e) {\n        _this.setState({\n          error: e\n        });\n\n        setTimeout(function () {\n          _this.setState({\n            error: null\n          });\n        }, 1000);\n      });\n    });\n\n    _this.state = {\n      error: null,\n      username: \"\",\n      password: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return __jsx(Box, null, __jsx(Box, {\n        height: \"10vh\",\n        marginTop: 8,\n        display: \"flex\",\n        justifyContent: \"center\"\n      }, __jsx(Mask, {\n        shape: \"rounded\",\n        height: \"100%\",\n        width: \"10vh\"\n      }, __jsx(Image, {\n        alt: \"logo\",\n        src: \"../static/sava.png\",\n        naturalHeight: 1,\n        naturalWidth: 1\n      }))), __jsx(Box, {\n        display: \"flex\",\n        justifyContent: \"center\",\n        marginTop: 3\n      }, __jsx(Heading, {\n        size: \"xs\"\n      }, \"\\u0110\\u0103ng nh\\u1EADp \\u0111\\xEA s\\xE1ng t\\u1EA1o\")), __jsx(Box, {\n        marginTop: 10,\n        paddingX: 4\n      }, __jsx(TextField, {\n        placeholder: \"Email ho\\u1EB7c t\\xEAn \\u0111\\u0103ng nh\\u1EADp\",\n        onChange: function onChange(_ref) {\n          var value = _ref.value;\n\n          _this2.setState({\n            username: value\n          });\n        },\n        value: this.state.username,\n        id: \"username\"\n      })), __jsx(Box, {\n        marginTop: 5,\n        paddingX: 4\n      }, __jsx(TextField, {\n        placeholder: \"M\\u1EADt kh\\u1EA9u\",\n        type: \"password\",\n        onChange: function onChange(_ref2) {\n          var value = _ref2.value;\n\n          _this2.setState({\n            password: value\n          });\n        },\n        value: this.state.password,\n        id: \"password\"\n      })), __jsx(Box, {\n        marginTop: 5,\n        paddingX: 4\n      }, __jsx(Button, {\n        text: \"\\u0110\\u0103ng nh\\u1EADp\",\n        color: \"blue\",\n        onClick: function onClick(e) {\n          e.event.preventDefault();\n          e.event.persist();\n\n          _this2.login();\n        }\n      })), __jsx(Box, {\n        display: \"flex\",\n        justifyContent: \"center\",\n        padding: 5\n      }, __jsx(Link, {\n        href: \"\\\\fogot\"\n      }, __jsx(Text, {\n        weight: \"bold\"\n      }, \"Forgot a password?\"))), __jsx(Box, {\n        display: \"flex\",\n        justifyContent: \"center\",\n        paddingX: 3\n      }, __jsx(Text, null, \"\\u0110\\u1EC3 ti\\u1EBFp t\\u1EE5c h\\xE3y tu\\xE2n th\\u1EE7 \", __jsx(Text, {\n        weight: \"bold\",\n        inline: true\n      }, \"\\u0111i\\u1EC1u kho\\u1EA3n\"), \" v\\xE0 \", __jsx(Text, {\n        weight: \"bold\",\n        inline: true\n      }, \"ch\\xEDnh s\\xE1ch\"), \" c\\u1EE7a Sava\")), __jsx(Box, {\n        display: \"flex\",\n        justifyContent: \"center\",\n        padding: 5\n      }, __jsx(Heading, {\n        size: \"xs\"\n      }, \"OR\")), __jsx(Box, {\n        display: \"flex\",\n        justifyContent: \"center\",\n        paddingX: 3\n      }, __jsx(Text, null, \"Ch\\u01B0a c\\xF3 t\\xE0i kho\\u1EA3n?\")), __jsx(Box, {\n        marginTop: 5,\n        paddingX: 4\n      }, __jsx(Link, {\n        href: \"\\\\register\"\n      }, __jsx(Button, {\n        text: \"\\u0110\\u0103ng k\\xFD\",\n        color: \"red\"\n      }))), __jsx(Box, {\n        fit: true,\n        dangerouslySetInlineStyle: {\n          __style: {\n            bottom: 50,\n            left: '50%',\n            transform: 'translateX(-50%)'\n          }\n        },\n        paddingX: 1,\n        position: \"fixed\"\n      }, this.state.error !== null ? __jsx(Toast, {\n        text: ['Có lỗi xảy ra!']\n      }) : null));\n    }\n  }]);\n\n  return Login;\n}(React.Component);\n\nexport default Login;","map":null,"metadata":{},"sourceType":"module"}